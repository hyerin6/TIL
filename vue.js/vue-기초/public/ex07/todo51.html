<html lang="ko" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://kit.fontawesome.com/68abb170e0.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="todo3.css">
</head>
<body>
<div id="app">
    <div id="main">
        <h1><i class="fas fa-clipboard-check"></i> 할일</h1>
        <table>
            <tr>
                <td>제목</td>
                <td>날짜</td>
            </tr>
            <tr v-for="(todo, key) in todoMap" v-bind:key="key">
                <td>{{ todo.title }}</td>
                <td>{{ todo.due_date }}</td>
            </tr>
            <tr v-if="Object.keys(todoMap).length == 0">
                <td colspan="2">등록된 자료가 없습니다.</td>
            </tr>
        </table>
    </div>
</div>

<script type="text/javascript">
    var app = new Vue({
        el: '#app',
        data: {
            todoMap: {}
        }
    })

    window.onload = function() {
        axios.get('https://skhu-hyerin.firebaseio.com/todo.json')
            .then(response => app.todoMap = response.data);
    }
</script>
</body>
</html>
