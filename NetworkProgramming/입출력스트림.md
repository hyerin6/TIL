# 입출력 스트림 (I/O Stream)

<br />

## 1. 개요

Java 입출력 프로그래밍을 알아보자. 


<br />

파일에서 데이터를 읽고 쓰는 코드와 네트워크에서 데이터를 읽고 쓰는 코드가 거의 같다.

Java의 입출력 클래스들에 다형성(polymorphism)이 잘 구현되었기 때문이다. 


Java의 입출력 클래스들은 객체지향적 구조로 설계되었고

Decorator 패턴, Proxy 패턴 구조이다. 


<br />

### I/O Stream 
Java I/O는 스트림 개념을 기초로한다. 

입력 스트림(input stream)에서 데이터를 읽고 출력 스트림(output stream)에 데이터를 쓴다.

> Java에는 많은 스트림 클래스들이 있다. 
>
> java.io.FileInputStream 
> 
> java.io.ByteArrayInputStream

<br /> 


![1](https://user-images.githubusercontent.com/33855307/135644235-8b4cc018-36a9-4ab4-9b89-a6e2ef994a0e.jpeg)


<br /> 

Java의 모든 입력 스트림 클래스들의 사용 방법은 동일하고, 

어디에서 데이터를 읽어오는지, 어떻게 읽어오는지 등이 다르다.

출력 스트림 또한 클래스들의 사용 방법은 동일하고, 

어디에 쓰는지, 어떻게 쓰느지 등이 다르다. 
 

<br /> 

![2](https://user-images.githubusercontent.com/33855307/135644448-167aae04-e06a-43e7-ba7b-31213bd92e68.jpeg)

<br /> 
<br /> 

### 필터 스트림 (Filter Stream)
입력 데이터를 읽어오는 입력 스트림 객체에 FilterInputStream 객체를 끼울 수 있다. 

출력 데이터를 쓰는 출력 스트림 객체에는 FilterOutputStream 객체를 끼울 수 있다. 

필터 스트림 객체는 읽거나 쓰는 데이터를 중간에서 수정하는 데 사용된다. 

<br />

예를들어 출력 스트림에 데이터가 쓰여지는 중간에서 

암호화 필터가 쓰여지는 데이터를 함호화할 수 있다. 

<br />

![3](https://user-images.githubusercontent.com/33855307/135645034-940268c4-b50b-4f59-955a-041c19e81d2a.jpeg)

<br />
<br />

### Reader And Weiter 
reader와 writer는 문자열을 입출력한다. 

InputStream과 OutputStream은 이진 데이터(binary data)를 입출력한다. 

reader는 input source에서 읽은 이진 데이터를 문자열로 변환해서 리턴한다. 

writer는 문자열을 이진 데이터로 변환하여 output source에 출력한다. 

즉 reader와 writer는 문자 인코딩 처리를 담당한다. 

<br />

![4](https://user-images.githubusercontent.com/33855307/135645434-8d532a92-d6eb-429e-8cee-1b6d559ab608.jpeg)

<br />
<br />


## 2. 출력 스트림 (output stream)
### 1) OutputStream 클래스 
Java의 기본 출력 스트림 클래스는 `java.io.OutputStream` 이다. 

이 클래스는 모든 출력 스트림 클래스들의 부모 클래스이다. 

<br />

```java
public abstract class OutputStream 
```


<br />

이 클래스에는 다음과 같은 메소드들이 있다. 

```java
public abstract void write(int b) throws IOException
public void write(byte[] data) throws IOException
public void write(byte[] data, int offset, int length) throws IOException
public void flush() throws IOException
public void close() throws IOException
```

<br />

이 메소드들에는 다형성이 구현되어 있다.

OutputStream 클래스를 상속한 서브클래스들은 위 메소드들을 재정의 한다. 

Java의 모든 출력 스트림 클래스들에서 위 메소드들의 사용 방법이 동일하고, 

어디에 출력하는가, 어떻게 출력하는가만 다르다. 

<br />
<br />


### 2) `write(int b)` 

```java
public abstract void write(int b) throws IOException
```

OutputStream 클래스의 위 메소드는 1 byte를 출력 스트림에 출력한다. 

이 메소드의 파라미터는 32bit int 타입이지만 파라미터 값 중에서 8bit(1byte)만 출력되고, 

나머지 24bit는 무시된다. 낮은 자리 8bit가 출력된다. 

> 참고 
> 
> 이진수에서 가장 낮은 자리 비트를 LSB라고 하고, 
> 
> 가장 높은 자리 비를 MSB라고 한다. 


<br />












